<article>

  <p-card>
    <ng-template pTemplate="title">
      <h1>Table <b>{{ tableName }}</b> from Database <b>{{ databaseName }}</b></h1>
    </ng-template>

    <div *ngIf="!isEdit">
      <button pTooltip="Edit Table" pButton pRipple type="button" icon="pi pi-wrench" class="p-button-rounded p-button-info"
              (click)="isEdit= !isEdit"></button>
      <button pTooltip="Copy Table" pButton pRipple type="button" icon="pi pi-copy"
              class="p-button-rounded p-button-info"></button>
      <button pTooltip="Rename Table" pButton pRipple type="button" icon="pi pi-replay"
              class="p-button-rounded p-button-info"></button>
    </div>

    <div *ngIf="isEdit">
      <button pTooltip="Cancel" pButton pRipple type="button" icon="pi pi-times" class="p-button-rounded p-button-info"
              (click)="isEdit= !isEdit"></button>
      <button pTooltip="Save" pButton pRipple type="button" icon="pi pi-save" class="p-button-rounded p-button-info"
              (click)="isEdit= !isEdit" [disabled]="!isTableDirty"></button>
      <button pTooltip="Delete Row(s)" pButton pRipple type="button" icon="pi pi-trash"
              class="p-button-rounded p-button-info"></button>
      <button pTooltip="Copy Row(s)" pButton pRipple type="button" icon="pi pi-copy"
              class="p-button-rounded p-button-info"></button>
      <button pTooltip="Edit Metadata" pButton pRipple type="button" icon="pi pi-file-edit"
              class="p-button-rounded p-button-info" (click)="openTableMetaDataDialog()"></button>

    </div>
    <button pTooltip="Edit Metadata" pButton pRipple type="button" icon="pi pi-file-edit"
            class="p-button-rounded p-button-info" (click)="openTableMetaDataDialog()"></button>


    <p-table [value]="databaseTableView.databaseTableRows || []" styleClass="p-datatable-sm"
             [tableStyle]="{'min-width': '50rem'}">
      <ng-template pTemplate="header">
        <tr>
          <th *ngFor="let col of databaseTableView.metaData">{{ col.field }}</th>
        </tr>
      </ng-template>
      <ng-template pTemplate="body" let-row>
        <tr>
          <td *ngFor="let cell of row.databaseTableCells">{{ cell.value }}</td>
        </tr>
      </ng-template>
    </p-table>

  </p-card>

</article>
